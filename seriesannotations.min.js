// Flot plugin for marking specific points. Copyright (c) 2015 Patrick Mechenbier. Licensed under the MIT license.
!function(o){function n(n){function t(n,t,r){function i(o){function n(o,n,r,i,a,e,l,c,f){for(var u=n.points,p=n.pointsize,g=!1,v=0;v<u.length;v+=p){var h=u[v],d=u[v+1],g=!1;if(!(null==h||h<l.min||h>l.max||d<c.min||d>c.max)){for(var y=0;y<o.length;++y)if(o[y][0]===h&&o[y][s.seriesannotations.dataIndex]===!0){g=!0;break}g&&(t.beginPath(),h=l.p2c(h),d=c.p2c(d)+a,"circle"==f?t.arc(h,d,r,0,e?Math.PI:2*Math.PI,!1):f(t,h,d,r,e),t.closePath(),i&&(t.fillStyle=i,t.fill()),t.stroke())}}}t.save(),t.translate(l.left,l.top);var r=o.points.radius,i=o.points.symbol;t.strokeStyle=null===s.seriesannotations.color?o.color:s.seriesannotations.color;var e=null===s.seriesannotations.color?a(o.points,o.color):s.seriesannotations.color;n(o.data,o.datapoints,r,e,0,!1,o.xaxis,o.yaxis,i),t.restore()}function a(n,t,r,i){var a=n.fill;if(!a)return null;if(n.fillColor)return e(n.fillColor,r,i,t);var s=o.color.parse(t);return s.a="number"==typeof a?a:.4,s.normalize(),s.toString()}function e(n,r,i,a){if("string"==typeof n)return n;for(var e=t.createLinearGradient(0,i,0,r),s=0,l=n.colors.length;l>s;++s){var c=n.colors[s];if("string"!=typeof c){var f=o.color.parse(a);null!=c.brightness&&(f=f.scale("rgb",c.brightness)),null!=c.opacity&&(f.a*=c.opacity),c=f.toString()}e.addColorStop(s/(l-1),c)}return e}var s=n.getOptions(),l=n.getPlotOffset();i(r)}n.hooks.drawSeries.push(function(o,n,r){t(o,n,r)})}var t={seriesannotations:{dataIndex:2,color:"#00FFFF"}};o.plot.plugins.push({init:n,options:t,name:"seriesannotation",version:"1.0"})}(jQuery);
